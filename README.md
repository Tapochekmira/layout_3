# Парсер книг с сайта tululu.org

Скрипт для скачивания книг с [сайта](tululu.org).

## Запуск и настройка

- Скачайте код
- Настройте окружение. Для этого выполните следующие действия:
    - установите Python3.6+;
    - создайте виртуальное окружение [virtualenv/venv](https://docs.python.org/3/library/venv.html) для изоляции проекта.
    - активируйте виртуальное окружение:
  
    ```
    . ./env/bin/activate
    ```
    - установите необходимые зависимости:

    ```
    pip install -r requirements.txt
    ```
- В корневой директории создайте файл ```.env```.
- Пропишите в нем состояние переменных:
  - `DEBUG` 
  - `SECRET_KEY` 
  - перечисление доступных доменов в `ALLOWED_HOSTS`
  - пармаетры базы данных в `DB_URL` выбрав схему, [соответствующую вашей DB](https://github.com/jacobian/dj-database-url#url-schema) 

    Пример для `PostgreSQL`
    ```
    DEBUG=False
    SECRET_KEY=R..........E
    ALLOWED_HOSTS=www.example.com,www.another.com
    DB_URL=postgres://g...d:o....g:5114/cas....asca
    ```
- Запустите скрипт командой:
    ```
    python main.py
    ```
## Инструкция по использованию

При запуске скрипта можно указать несколько параметров.
    
- После запуска скрипта в корневой директории появится две папки `books` и `images`. Первая содержит скачаные книги, вторая - обложки к ним.   
- `--start_page` - номер первой страницы с книгами. По умолчанию 1
- `--end_page` - номер последней страницы с книгами. По умолчанию последняя существующая страниа
- `--skip_imgs` - Не скачивать картинки. По умолчанию False
- `--skip_txt` - Не скачивать текст книг. По умолчанию False
- `--dest_folder` - Указать путь к каталогу с результатами. По умолчанию директория файла main.py
- `--json_path` - указать свой путь к *.json файлу с результатами. По умолчанию директория файла main.py
    ```
    python main.py --start_page 1 --end_page 10 --dest_folder \projects --sip_image True skip_txt True -- join_path \json
    ```
## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
